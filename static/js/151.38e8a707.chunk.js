"use strict";(self.webpackChunkphoto_app=self.webpackChunkphoto_app||[]).push([[151],{4151:function(e,o,n){n.r(o),n.d(o,{default:function(){return W}});n(2791);var t=n(6871),l=n(7022),r=n(3504),i=n(184);function a(e){var o=e.title,n=e.backgroundUrl,t=n?{backgroundImage:"url(".concat(n,")")}:{};return(0,i.jsx)("section",{className:"banner",style:t,children:(0,i.jsx)("h1",{className:"banner__title",children:o})})}a.defaultProps={title:"",backgroundUrl:""};var s=a,c={ORANGE_BG:n(4622),BLUE_BG:n(2565),COLORFUL_BG:n(7622),PINK_BG:n(5605)},d=n(6030),u=n(9743),h=n(2677),p=n(6157);function m(e){var o=e.photo,n=e.onEditClick,t=e.onRemoveClick;return(0,i.jsxs)("div",{className:"photo",children:[(0,i.jsx)("img",{src:o.photo,alt:o.title}),(0,i.jsxs)("div",{className:"photo__overlay",children:[(0,i.jsx)("h3",{className:"photo__title",children:o.title}),(0,i.jsxs)("div",{className:"photo__actions",children:[(0,i.jsx)("div",{children:(0,i.jsx)(p.Z,{variant:"outline-light",size:"sm",onClick:function(){n&&n(o)},children:"Edit"})}),(0,i.jsx)("div",{children:(0,i.jsx)(p.Z,{variant:"outline-danger",size:"sm",onClick:function(){t&&t(o)},children:"Remove"})})]})]})]})}m.defaultProps={photo:{},onEditClick:null,onRemoveClick:null};var v=m;function f(e){var o=e.photoList,n=e.onPhotoEditClick,t=e.onPhotoRemoveClick;return(0,i.jsx)(u.Z,{children:o.map((function(e){return(0,i.jsx)(h.Z,{xs:"12",md:"6",lg:"3",children:(0,i.jsx)(v,{photo:e,onEditClick:n,onRemoveClick:t})},e.title)}))})}f.defaultProps={photoList:[],onPhotoEditClick:null,onPhotoRemoveClick:null};var x=f,j=n(2777);var b=function(e){var o=(0,d.I0)(),n=(0,d.v9)((function(e){return e.photos})),a=(0,t.s0)();return console.log("List photos:",n),(0,i.jsxs)("div",{className:"photo-main",children:[(0,i.jsx)(s,{title:"Your awesome photos",backgroundUrl:c.PINK_BG}),(0,i.jsxs)(l.Z,{className:"text-center",children:[(0,i.jsx)("div",{className:"py-5",children:(0,i.jsx)(r.rU,{to:"add",children:"Add new photo"})}),(0,i.jsx)(x,{photoList:n,onPhotoEditClick:function(e){console.log("Edit: ",e);var o="/photos/".concat(e.id);a(o)},onPhotoRemoveClick:function(e){console.log("Remove: ",e);var n=e.id,t=(0,j.Nm)(n);o(t)}})]})]})},g=n(1413),Z=[{value:1,label:"Technology"},{value:2,label:"Education"},{value:3,label:"Nature"},{value:4,label:"Animals"},{value:5,label:"Styles"}],k=n(5705),C=n(9186);function y(e){var o=e.field,n=e.form,t=e.type,l=e.label,r=e.placeholder,a=e.disabled,s=o.name,c=n.errors,d=n.touched,u=c[s]&&d[s];return(0,i.jsxs)(C.Z.Group,{children:[l&&(0,i.jsx)(C.Z.Label,{htmlFor:s,children:l}),(0,i.jsx)(C.Z.Control,(0,g.Z)((0,g.Z)({id:s},o),{},{type:t,disabled:a,placeholder:r,isInvalid:u})),u&&(0,i.jsx)(C.Z.Control.Feedback,{type:"invalid",children:c[s]})]})}y.defaultProps={type:"text",label:"",placeholder:"",disabled:!1};var _=y,N=n(5861),P=n(7757),R=n.n(P);I.defaultProps={name:"",imageUrl:"",onImageUrlChange:null,onRandomButtonBlur:null};var B=function(){var e=Math.trunc(2e3*Math.random());return"https://picsum.photos/id/".concat(e,"/300/300")};function I(e){var o=e.name,n=e.imageUrl,t=e.onImageUrlChange,l=e.onRandomButtonBlur,r=function(){var e=(0,N.Z)(R().mark((function e(){var o;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(o=B(),t(o));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)("div",{className:"random-photo",children:[(0,i.jsx)("div",{className:"random-photo__button",children:(0,i.jsx)(p.Z,{outline:"true",name:o,variant:"outline-primary",onBlur:l,onClick:r,children:"Random a photo"})}),(0,i.jsx)("div",{className:"random-photo__photo",children:n&&(0,i.jsx)("img",{src:n,alt:"Ooops ... not found. Please click random again!",onError:r})})]})}var U=I;function E(e){var o=e.field,n=e.form,t=e.label,l=o.name,r=o.value,a=o.onBlur,s=n.errors,c=n.touched,d=s[l]&&c[l];return(0,i.jsxs)(C.Z.Group,{children:[t&&(0,i.jsx)(C.Z.Label,{htmlFor:l,children:t}),(0,i.jsx)(U,{name:l,imageUrl:r,onImageUrlChange:function(e){n.setFieldValue(l,e)},onRandomButtonBlur:a}),(0,i.jsx)("div",{className:d?"is-invalid":""}),(0,i.jsx)(k.Bc,{name:l,children:function(e){return(0,i.jsx)(C.Z.Control.Feedback,{type:"invalid",children:e})}})]})}E.defaultProps={label:""};var A=E,G=n(1947);function L(e){var o=e.field,n=e.form,t=e.options,l=e.label,r=e.placeholder,a=e.disabled,s=o.name,c=o.value,d=n.errors,u=n.touched,h=d[s]&&u[s],p=t.find((function(e){return e.value===c}));return(0,i.jsxs)(C.Z.Group,{children:[l&&(0,i.jsx)(C.Z.Label,{htmlFor:s,children:l}),(0,i.jsx)(G.ZP,(0,g.Z)((0,g.Z)({id:s},o),{},{value:p,onChange:function(e){var n=e?e.value:e,t={target:{name:s,value:n}};o.onChange(t)},placeholder:r,isDisabled:a,options:t,className:h?"is-invalid":""})),(0,i.jsx)(k.Bc,{name:s,children:function(e){return(0,i.jsx)(C.Z.Control.Feedback,{type:"invalid",children:e})}})]})}L.defaultProps={label:"",placeholder:"",disabled:!1,options:[]};var w=L,F=n(4849),q=n(1724);function S(e){var o=e.initialValues,n=e.isAddMode,t=q.Ry().shape({title:q.Z_().required("This field is required."),categoryId:q.Rx().required("This field is required.").nullable(),photo:q.Z_().when("categoryId",{is:1,then:q.Z_().required("This field is required."),otherwise:q.Z_().notRequired()})});return(0,i.jsx)(k.J9,{initialValues:o,validationSchema:t,onSubmit:e.onSubmit,children:function(e){var o=e.values,t=e.errors,l=e.touched,r=e.isSubmitting;return console.log({values:o,errors:t,touched:l}),(0,i.jsxs)(k.l0,{children:[(0,i.jsx)(k.Rt,{name:"title",component:_,label:"Title",placeholder:"Eg:..."}),(0,i.jsx)(k.Rt,{name:"categoryId",component:w,label:"Category",placeholder:"What's your photo category?",options:Z}),(0,i.jsx)(k.Rt,{name:"photo",component:A,label:"Photo"}),(0,i.jsx)(C.Z.Group,{children:(0,i.jsxs)(p.Z,{type:"submit",variant:n?"primary":"success",children:[r&&(0,i.jsx)(F.Z,{size:"sm"}),n?"Add to album":"Update your photo"]})})]})}})}S.defaultPros={onSubmit:null};var M=S;var T=function(e){var o=(0,d.I0)(),n=(0,t.s0)(),l=(0,t.UO)().photoId,r=!l,a=(0,d.v9)((function(e){return e.photos.find((function(e){return e.id===+l}))})),c=r?{title:"",categoryId:null,photo:""}:a;return(0,i.jsxs)("div",{className:"photo-edit",children:[(0,i.jsx)(s,{title:"Pick your amazing photo \ud83d\ude0e"}),(0,i.jsx)("div",{className:"photo-edit__form",children:(0,i.jsx)(M,{isAddMode:r,initialValues:c,onSubmit:function(e){return new Promise((function(t){console.log("Form submit: ",e),setTimeout((function(){if(r){var l=(0,g.Z)({id:(s=1e4,c=99999,s+Math.trunc(Math.random()*(c-s)))},e),i=(0,j.ZE)(l);o(i)}else{var a=(0,j.tU)(e);o(a)}var s,c;n("/photos"),t(!0)}),2e3)}))}})})]})},O=n(7640);var W=function(e){return(0,i.jsxs)(t.Z5,{children:[(0,i.jsx)(t.AW,{end:!0,path:"",element:(0,i.jsx)(b,{})}),(0,i.jsx)(t.AW,{path:"add",element:(0,i.jsx)(T,{})}),(0,i.jsx)(t.AW,{path:":photoId",element:(0,i.jsx)(T,{})}),(0,i.jsx)(t.AW,{element:(0,i.jsx)(O.Z,{})})]})}},2565:function(e,o,n){e.exports=n.p+"static/media/blue-bg.93b683dcd7c104e108ed.jpg"},7622:function(e,o,n){e.exports=n.p+"static/media/colorful-bg.95c0fb342777f6d1bc88.jpg"},4622:function(e,o,n){e.exports=n.p+"static/media/orange-bg.a98c2734b4299e305b7f.jpg"},5605:function(e,o,n){e.exports=n.p+"static/media/pink-bg.d6dafc0aa74a3594ed43.jpg"}}]);
//# sourceMappingURL=151.38e8a707.chunk.js.map